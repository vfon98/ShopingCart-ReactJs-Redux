{"version":3,"sources":["serviceWorker.js","axios/axios.base.js","api/endpoints.js","api/cart.api.js","actions/cart.actions.js","constants/actionTypes.js","containers/Cart/MiniCartItem.js","containers/Cart/MiniCart.js","api/user.api.js","actions/user.actions.js","actions/auth.actions.js","api/auth.api.js","components/Navbar.js","actions/products.actions.js","api/product.api.js","actions/categories.actions.js","api/category.api.js","containers/Home/Categories.js","components/StarRating.js","components/OneProduct.js","components/LoadingButton.js","components/EmptyButton.js","containers/Home/Products.js","components/Pagination.js","actions/pagination.actions.js","containers/Home/Home.js","components/Wrapper.js","components/useInput.js","containers/Form/LoginForm.js","containers/Form/SignupForm.js","components/CartItem.js","containers/Cart/Cart.js","components/UserInfo.js","containers/Checkout/Checkout.js","components/NotFound404.js","components/ProductDetail/ProductImages.js","components/ProductDetail/ProductInfo.js","components/ProductDetail/ProductDescription.js","components/ProductDetail/OtherProducts.js","components/ProductDetail/CompanyInfo.js","containers/ProductDetail/ProductDetail.js","containers/Form/UpdateUser/UpdatePassword.js","containers/Form/UpdateUser/UpdateProfile.js","containers/Form/UpdateUser/UpdateUser.js","App.js","reducers/categories.reducer.js","reducers/products.reducer.js","reducers/cart.reducer.js","reducers/user.reducer.js","reducers/pagination.reducer.js","reducers/auth.reducer.js","reducers/index.js","store/configureStore.js","index.js","firebase/firebase.js","assets/user.png","assets/user.jpg"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","baseURL","instance","axios","create","category","product","id","auth","user","cart","addToCart","token","productID","amount","body","post","headers","Authorization","clearCart","get","fetchCart","dispatch","type","payload","getCartFromLocalStorage","CartAPI","res","data","updateCartInLocalStorage","udpateCartItem","quantity","parseInt","deleteCartItem","JSON","parse","localStorage","getItem","setItem","stringify","React","memo","props","useSelector","authReducer","cartReducer","useState","setQuantity","useDispatch","useEffect","data-th","title","name","src","image","className","alt","min","value","onChange","e","target","price","toLocaleString","onClick","isPending","confirm","MiniCart","isOpen","setIsOpen","togglePopover","history","useHistory","listen","UncontrolledPopover","placement","toggle","PopoverBody","Table","size","striped","hover","responsive","borderless","cart_detail","length","map","item","key","colSpan","total","to","Button","color","block","getUserProfile","updateProfile","newProfile","put","UserAPI","profile","err","registerAccount","accountInfo","AuthAPI","success","response","login","email","password","saveTokenIntoLocalStorage","logout","removeTokenFromLocalStorage","updatePassword","input","old_password","oldPassword","new_password","newPassword","confirm_password","confirmPassword","removeItem","getTokenFromLocalStorage","userInfo","userReducer","data-toggle","data-target","activeClassName","exact","isLogin","push","firstName","searchByCategory","getState","paginationReducer","currentPage","pageSize","page","page_size","key_word","params","ProductAPI","results","detailProduct","details","fetchCategories","Categories","componentDidMount","componentDidUpdate","prevProps","categories","isLoading","changeSelectedCategory","this","currentCategory","categoriesList","url","replace","PureComponent","connect","categoriesReducer","categoryName","find","page_number","withRouter","StarRating","Fragment","rating","Math","round","starIcons","i","RatingStars","hasError","setHasError","Col","md","sm","xs","onError","join","stopPropagation","EmptyButton","Component","Products","deformatURL","isCategoryNotFound","currentSelected","products","productsList","productsReducer","Pagination","pagination","isFirstPage","previous","isLastPage","next","paginationItems","pageNumber","gotoPage","totalPages","Home","children","useInput","initialState","setValue","bindInput","LoginForm","username","bindUsername","bindPassword","role","onSubmit","preventDefault","placeholder","autoFocus","onInput","loginError","SignupForm","bindFirstName","lastName","bindLastName","bindEmail","bindConfirmPassword","city","bindCity","passwordError","setPasswordError","registerError","registerSuccess","resetError","first_name","last_name","required","onBlur","model","Cart","cartItems","userImage","Checkout","errorMessage","submitCard","setState","stripe","createToken","message","checkoutCart","isPaid","paid_at","readOnly","hidePostalCode","style","base","fontSize","disabled","injectStripe","stripe_token","a","async","Promise","resolve","reject","NotFound404","ProductImages","thumbnail","setThumbnail","feeds","feed","ProductInfo","bindQuantity","checkLogin","tag","split","index","description","cate","favorites","ProductDescription","dangerouslySetInnerHTML","__html","OtherProducts","CompanyInfo","company","logo","store_name","address","phone_number","productgroup","social_link","facebook","instagram","twitter","ProductDetail","full_description","other_products","UpdatePassword","bindOldPassword","bindNewPassword","isPasswordUpdated","Input","minLength","UpdateProfile","emailRef","useRef","current","oldProfile","avatar","ref","defaultValue","UpdateUser","App","from","path","component","UserInfo","action","inintialState","status","Date","toISOString","stripeID","userProfile","stripe_customer_id","count","ceil","isAuthPending","regiterSuccess","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","apiKey","document","getElementById","firebase","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","onMessage","messaging","requestPermission","usePublicVapidKey","getToken","askForReceivingNotification","authUser","subscribe","userCart","localCart","URL","process","href","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.0516ffd3.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import axios from 'axios';\n\nconst { hostname } = window.location;\nconst baseURL = 'http://api.seekproduct.com';\nconst instance = axios.create({\n  // Use proxy server to avoid CORS\n  baseURL:\n    hostname === 'localhost'\n      ? baseURL\n      : `https://cors-anywhere.herokuapp.com/${baseURL}`\n});\n\nexport default instance;\n","export const category = {\n  CATEGORY_LIST: '/api/category/list'\n};\n\nexport const product = {\n  SEARCH_CATEGORY: '/api/category/search/?order_by=-id',\n  PRODUCTS_LIST: '/api/products/list',\n  PRODUCT_DETAIL: id => `/api/products/${id}/details`\n};\n\nexport const auth = {\n  REGISTER: '/api/auth/register',\n  LOGIN: '/user/login',\n  LOGOUT: '/user/logout',\n  UPDATE_PASSWORD: '/api/auth/change_pass'\n};\n\nexport const user = {\n  USER_PROFILE: '/api/auth/profile',\n  UPDATE_PROFILE: '/api/auth/profile',\n};\n\nexport const cart = {\n  VIEW_CART: '/api/user/cart/view-cart',\n  ADD_TO_CART: '/api/user/cart/add-to-cart',\n  UPDATE_CART: '/api/user/cart/update-cart',\n  REMOVE_FROM_CART: '/api/user/cart/remove-from-cart',\n  CLEAR_CART: '/api/user/cart/clear',\n  CART_PAYMENT: '/api/user/cart/payment'\n};\n","import axios from '../axios/axios.base';\nimport { cart } from './endpoints';\n\nexport const fetchCart = token => {\n  return axios.get(cart.VIEW_CART, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n\nexport const addToCart = (token, productID, amount) => {\n  const body = {\n    product: productID,\n    amount\n  };\n  return axios.post(cart.ADD_TO_CART, body, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n\nexport const updateCartItem = (token, productID, amount) => {\n  const body = {\n    product: productID,\n    amount: parseInt(amount)\n  };\n  return axios.post(cart.UPDATE_CART, body, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n\nexport const deleteCartItem = (token, productID) => {\n  const body = { product: productID };\n  return axios.post(cart.REMOVE_FROM_CART, body, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n\nexport const clearCart = token => {\n  return axios.get(cart.CLEAR_CART, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n\nexport const checkoutCart = (token, stripe_token) => {\n  // 1 mean recurring payment, 2 mean one one-time payment\n  const body = { option: 2, token: stripe_token };\n  return axios.post(cart.CART_PAYMENT, body, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n","import * as types from '../constants/actionTypes';\nimport * as CartAPI from '../api/cart.api';\n\nexport const fetchCart = token => {\n  return dispatch => {\n    // GET DATA FROM LOCAL STORAGE FIRST\n    dispatch({\n      type: types.FETCH_CART,\n      payload: { cart: getCartFromLocalStorage() }\n    });\n\n    getCartFromLocalStorage();\n    CartAPI.fetchCart(token)\n      .then(res => {\n        dispatch({\n          type: types.FETCH_CART,\n          payload: { cart: res.data }\n        });\n        updateCartInLocalStorage(res.data);\n      })\n      .catch(console.log);\n  };\n};\n\nexport const addToCart = (token, productID, amount = 1) => {\n  return dispatch => {\n    dispatch({ type: types.CART_PENDING });\n    CartAPI.addToCart(token, productID, amount)\n      .then(res => {\n        dispatch({\n          type: types.ADD_TO_CART,\n          payload: { cart: res.data }\n        });\n      })\n      .catch(console.log);\n  };\n};\n\nexport const udpateCartItem = (token, productID, quantity) => {\n  return dispatch => {\n    dispatch({ type: types.CART_PENDING })\n    CartAPI.updateCartItem(token, productID, quantity)\n      .then(res => {\n        console.log('Updated from API');\n        dispatch({\n          type: types.UPDATE_CART_ITEM,\n          payload: { cart: res.data }\n        });\n      })\n      .catch(console.log);\n  };\n};\n\nexport const deleteCartItem = (token, productID) => {\n  return dispatch => {\n    dispatch({ type: types.CART_PENDING })\n    CartAPI.deleteCartItem(token, productID)\n      .then(res => {\n        console.log('Deleting from API');\n        dispatch({\n          type: types.DELETE_CART_ITEM,\n          payload: { cart: res.data }\n        });\n      })\n      .catch(console.log);\n  };\n};\n\nexport const clearCart = token => {\n  return dispatch => {\n    dispatch({ type: types.CART_PENDING })\n    CartAPI.clearCart(token)\n      .then(res => {\n        dispatch({\n          type: types.CLEAR_CART,\n          payload: { cart: res.data }\n        });\n      })\n      .catch(console.log);\n  };\n};\n\nexport const checkoutCart = (token, stripe_token) => {\n  return async dispatch => {\n    CartAPI.clearCart(token, stripe_token)\n      .then(res => {\n        dispatch({ type: types.CHECK_OUT_OK });\n        return Promise.resolve();\n      })\n      .catch(err => {\n        console.log({ err });\n        dispatch({ type: types.CHECK_OUT_FAILED });\n        return Promise.reject(err);\n      });\n  };\n};\n\nexport const getCartFromLocalStorage = () => {\n  // Return [] instead of null\n  return JSON.parse(localStorage.getItem('user-cart')) || [];\n};\n\nexport const updateCartInLocalStorage = cart => {\n  localStorage.setItem('user-cart', JSON.stringify(cart));\n};\n","export const FETCH_PRODUCTS = 'FETCH_PRODUCTS';\nexport const SEARCH_PRODUCTS = 'SEARCH_PRODUCTS';\nexport const PRODUCT_PENDING = 'PRODUCT_PENDING';\nexport const DETAIL_PRODUCT = 'DETAIL_PRODUCT';\n\nexport const FETCH_CATEGORIES = 'FETCH_CATEGORIES';\nexport const CHANGE_SELECTED_CATEGORY = 'CHANGE_SELECTED_CATEGORY';\n\nexport const FETCH_CART = 'FETCH_CART';\nexport const CART_PENDING = 'CART_PENDING';\nexport const GET_CART_FROM_STORAGE = 'GET_CART_FROM_STORAGE';\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const ADD_EXISTED_ITEM = 'ADD_EXISTED_ITEM';\nexport const UPDATE_CART_ITEM = 'UPDATE_CART_ITEM';\nexport const DELETE_CART_ITEM = 'DELETE_CART_ITEM';\nexport const CLEAR_CART = 'CLEAR_CART';\nexport const CHECK_OUT_CART = 'CHECK_OUT_CART';\nexport const CHECK_OUT_OK = 'CHECK_OUT_OK';\nexport const CHECK_OUT_FAILED = 'CHECK_OUT_FAILED';\n\nexport const AUTH_USER = 'AUTH_USER';\nexport const TOKEN_EXPIRED = 'TOKEN_EXPIRED';\nexport const TOKEN_NOT_FOUND = 'TOKEN_NOT_FOUND';\n\nexport const REGISTER_ACCOUNT = 'REGISTER_ACCOUNT';\nexport const REGISTER_OK = 'REGISTER_OK';\nexport const REGISTER_FAILED = 'REGISTER_FAILED';\n\nexport const LOGIN_ACCOUNT = 'LOGIN_ACCOUNT';\nexport const LOGIN_OK = 'LOGIN_OK';\nexport const LOGIN_FAILED = 'LOGIN_FAILED';\nexport const CHECK_LOGIN = 'CHECK_LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const UPDATE_PASSWORD_OK = 'UPDATE_PASSWORD_OK';\nexport const UPDATE_PASSWORD_FAILED = 'UPDATE_PASSWORD_FAILED';\n\nexport const GET_USER_PROFILE = 'GET_USER_PROFILE';\nexport const UPDATE_PROFILE = 'UPDATE_PROFILE';\n\nexport const CREATE_PAGINATION = 'CREATE_PAGINATION';\nexport const NEXT_PAGE = 'NEXT_PAGE';\nexport const PREVIOUS_PAGE = 'PREVIOUS_PAGE';\nexport const GO_TO_PAGE = 'GO_TO_PAGE';\n","/* eslint-disable no-restricted-globals */\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { udpateCartItem, deleteCartItem } from '../../actions/cart.actions';\n\nconst MiniCartItem = props => {\n  const { product } = props;\n  const auth = useSelector(state => state.authReducer);\n  const cart = useSelector(state => state.cartReducer);\n  const [quantity, setQuantity] = useState(props.amount);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setQuantity(props.amount);\n  }, [props.amount])\n\n  const handleDeleteItem = () => {\n    if (confirm('Are you sure to delete ?')) {\n      dispatch(deleteCartItem(auth.token, product.id));\n    }\n  };\n\n  return (\n    <tr>\n      <td data-th='Product' title={product.name}>\n        <img\n          src={product.image || 'https://via.placeholder.com/50'}\n          className='img-fluid'\n          alt=''\n        />\n      </td>\n      <td data-th='Quantity' className='text-center'>\n        <input\n          type='number'\n          className='form-control text-center p-0 pr-1 pl-n1 m-0'\n          min='1'\n          value={quantity}\n          onChange={e => setQuantity(e.target.value)}\n        />\n      </td>\n      <td data-th='Subtotal' className='text-center'>\n        ${(product.price * quantity).toLocaleString('en-EN')}\n      </td>\n      <td className='actions text-center' data-th=''>\n        <button\n          className='btn btn-info btn-sm'\n          title='Update this item'\n          // Use current quantity of MiniCartItem\n          onClick={() =>\n            dispatch(udpateCartItem(auth.token, product.id, quantity))\n          }\n        >\n          <i className={'fa fa-refresh' + (cart.isPending ? ' fa-spin' : '')}></i>\n        </button>\n        <button\n          className='btn btn-danger btn-sm'\n          title='Delete this item'\n          onClick={handleDeleteItem}\n        >\n          <i className='fa fa-trash-o'></i>\n        </button>\n      </td>\n    </tr>\n  );\n};\n\nexport default React.memo(MiniCartItem);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Table, UncontrolledPopover, PopoverBody, Button } from 'reactstrap';\nimport MiniCartItem from '../Cart/MiniCartItem';\nimport { Link, useHistory } from 'react-router-dom'\n\nfunction MiniCart() {\n  const [isOpen, setIsOpen] = useState(false);\n  const cart = useSelector(state => state.cartReducer);\n  const togglePopover = () => setIsOpen(!isOpen);\n  const history = useHistory();\n\n  useEffect(() => {\n    history.listen(() => isOpen && togglePopover())\n  }, [isOpen])\n\n  return (\n    <div id='mini-cart'>\n      <UncontrolledPopover\n        placement='auto'\n        target='bs-mini-cart'\n        isOpen={isOpen}\n        toggle={togglePopover}\n      >\n        <PopoverBody>\n          <Table\n            size='sm'\n            id='tbl-mini-cart'\n            className='pb-0 mb-0'\n            striped\n            hover\n            responsive\n            borderless\n          >\n            <thead className='thead-inverse'>\n              <tr>\n                <th>Product</th>\n                <th>Amount</th>\n                <th>Price</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {/* Render MiniCart */}\n              {cart.cart_detail.length ? (\n                cart.cart_detail.map(item => (\n                  <MiniCartItem {...item} key={item.product.id} />\n                ))\n              ) : (\n                <tr>\n                  <td\n                    colSpan='4'\n                    className='text-center text-danger h5 font-italic'\n                  >\n                    Empty cart !\n                  </td>\n                </tr>\n              )}\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colSpan='2'>\n                  <strong>Total: ${cart.total.toLocaleString('en-EN')}</strong>\n                </td>\n                <td colSpan='2' className='text-right p-0'>\n                  <Link to='/cart'>\n                    <Button\n                      color='warning'\n                      className='text-nowrap my-2'\n                      size='sm'\n                      block\n                    >\n                      <i className='fa fa-shopping-basket mr-1'></i>Go to cart\n                    </Button>\n                  </Link>\n                </td>\n              </tr>\n              <tr>\n                <td colSpan='4' className='p-0'>\n                  <Link to='/checkout'>\n                    <Button color='success' block>\n                      <i className='fa fa-cart-arrow-down fa-lg mr-2'></i>\n                      Checkout\n                    </Button>\n                  </Link>\n                </td>\n              </tr>\n            </tfoot>\n          </Table>\n        </PopoverBody>\n      </UncontrolledPopover>\n    </div>\n  );\n}\n\nexport default MiniCart;\n","import axios from '../axios/axios.base';\nimport { user } from './endpoints';\n\nexport const getUserProfile = token => {\n  return axios.get(user.USER_PROFILE, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n\nexport const updateProfile = (token, newProfile) => {\n  const body = { ...newProfile };\n  return axios.put(user.UPDATE_PROFILE, body, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n","import * as types from '../constants/actionTypes';\nimport * as UserAPI from '../api/user.api';\n\nexport const getUserProfile = token => {\n  return dispatch => {\n    UserAPI.getUserProfile(token)\n      .then(res => {\n        dispatch({\n          type: types.GET_USER_PROFILE,\n          payload: { profile: res.data }\n        });\n      })\n      .catch(err => console.log({ err }));\n  };\n};\n\nexport const updateProfile = (token, oldProfile) => {\n  const newProfile = {\n    first_name: oldProfile.firstName,\n    last_name: oldProfile.lastName,\n    city: oldProfile.city\n  };\n  return async dispatch => {\n    await UserAPI.updateProfile(token, newProfile)\n      .then(res => {\n        dispatch({\n          type: types.UPDATE_PROFILE\n        });\n        dispatch(getUserProfile(token));\n        Promise.resolve(res);\n      })\n      .catch(err => console.log({ err }));\n  };\n};\n","import * as types from '../constants/actionTypes';\nimport * as UserAPI from '../api/user.api';\nimport * as AuthAPI from '../api/auth.api';\nimport { getUserProfile } from './user.actions';\n\nexport const authUser = () => {\n  const token = getTokenFromLocalStorage();\n  if (!token) {\n    return { type: types.TOKEN_NOT_FOUND };\n  }\n  return dispatch => {\n    UserAPI.getUserProfile(token)\n      .then(res => {\n        dispatch({\n          type: types.AUTH_USER,\n          payload: { profile: res.data, token }\n        });\n      })\n      .catch(err => {\n        console.log({ err });\n        dispatch({ type: types.TOKEN_EXPIRED });\n        removeTokenFromLocalStorage();\n      });\n  };\n};\n\nexport const registerAccount = accountInfo => {\n  return dispatch => {\n    AuthAPI.registerAccount(accountInfo)\n      .then(res => {\n        dispatch({\n          type: types.REGISTER_OK,\n          payload: { success: res.data } // {id: string, email: string}\n        });\n      })\n      .catch(err => {\n        console.log(err.response.data);\n        // Existed mail or password not match\n        dispatch({\n          type: types.REGISTER_FAILED,\n          payload: { error: err.response.data }\n        });\n      });\n  };\n};\n\nexport const login = (email, password) => {\n  return dispatch => {\n    AuthAPI.login(email, password)\n      .then(res => {\n        dispatch({\n          type: types.LOGIN_OK,\n          payload: { token: res.data.token }\n        });\n        saveTokenIntoLocalStorage(res.data.token);\n        dispatch(getUserProfile(res.data.token));\n      })\n      .catch(err => {\n        dispatch({\n          type: types.LOGIN_FAILED,\n          payload: { error: err.response.data }\n        });\n      });\n  };\n};\n\nexport const logout = token => {\n  return dispatch => {\n    AuthAPI.logout(token)\n      .then(res => {\n        removeTokenFromLocalStorage();\n        dispatch({\n          type: types.LOGOUT\n        });\n      })\n      .catch(console.log);\n  };\n};\n\nexport const updatePassword = (token, input) => {\n  const body = {\n    old_password: input.oldPassword,\n    new_password: input.newPassword,\n    confirm_password: input.confirmPassword\n  };\n  return dispatch => {\n    AuthAPI.updatePassword(token, body)\n      .then(res => {\n        dispatch({ type: types.UPDATE_PASSWORD_OK });\n      })\n      .catch(err => {\n        console.log({ err });\n        dispatch({\n          type: types.UPDATE_PASSWORD_FAILED,\n          payload: { error: err.response.data }\n        });\n      });\n  };\n};\n\nconst removeTokenFromLocalStorage = () => {\n  let token = localStorage.getItem('user-token');\n  token && localStorage.removeItem('user-token');\n};\n\nconst saveTokenIntoLocalStorage = token => {\n  localStorage.setItem('user-token', token);\n};\n\nexport const getTokenFromLocalStorage = () => {\n  return localStorage.getItem('user-token');\n};\n","import { auth } from './endpoints';\nimport axios from '../axios/axios.base';\n\nexport const registerAccount = accountInfo => {\n  return axios.post(auth.REGISTER, accountInfo);\n};\n\nexport const login = (email, password) => {\n  const body = { email, password };\n  return axios.post(auth.LOGIN, body);\n};\n\nexport const logout = token => {\n  return axios.get(auth.LOGOUT, { headers: { Authorization: `JWT ${token}` } });\n};\n\nexport const updatePassword = (token, body) => {\n  return axios.put(auth.UPDATE_PASSWORD, body, {\n    headers: { Authorization: `JWT ${token}` }\n  });\n};\n","/* eslint-disable no-restricted-globals */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport MiniCart from '../containers/Cart/MiniCart';\nimport { Link, NavLink, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logout } from '../actions/auth.actions';\n\nconst Navbar = props => {\n  const cart = useSelector(state => state.cartReducer);\n  const userInfo = useSelector(state => state.userReducer);\n  const auth = useSelector(state => state.authReducer);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleLogout = () => {\n    if (confirm('Are you sure to logout ?')) {\n      dispatch(logout(auth.token));\n      history.push('/login');\n    }\n  };\n  return (\n    <nav className=\"navbar navbar-expand-md bg-dark navbar-dark fixed-top p-2 p-md-0\">\n      <div className=\"container-fluid container-lg\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          Shopping Now\n        </Link>\n\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#collapsibleNavbar\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <ul\n          className=\"navbar-nav collapse navbar-collapse d-md-flex justify-content-md-end\"\n          id=\"collapsibleNavbar\"\n        >\n          <li className=\"nav-item\">\n            <NavLink\n              className=\"nav-link\"\n              activeClassName=\"active\"\n              to=\"/products\"\n            >\n              <i className=\"fa fa-lg fa-shopping-bag mr-2\"></i>Shop\n            </NavLink>\n          </li>\n          <li className=\"nav-item\">\n            <a className=\"nav-link\" id=\"bs-mini-cart\">\n              <i className=\"fa fa-lg fa-shopping-cart mr-2\"></i>My cart\n              <span className=\"badge badge-pill badge-warning ml-1\">\n                {cart.cart_detail.length || ''}\n              </span>\n            </a>\n            {/* MiniCart popover */}\n            <MiniCart />\n          </li>\n          <li className=\"nav-item\">\n            <NavLink\n              className=\"nav-link\"\n              exact\n              activeClassName=\"active\"\n              to=\"/user\"\n            >\n              <i className=\"fa fa-lg fa-user mr-2\"></i>My account\n            </NavLink>\n          </li>\n          {/* Logout button */}\n          {auth.isLogin && (\n            <li className=\"nav-item\" title={userInfo.id}>\n              <a className=\"nav-link\" onClick={handleLogout}>\n                <i className=\"fa fa-lg fa-power-off mr-2\"></i>\n                {userInfo.firstName}\n              </a>\n            </li>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default React.memo(Navbar);\n","import * as types from '../constants/actionTypes';\nimport * as ProductAPI from '../api/product.api';\n\n// Search dispatch the same action\nexport const searchByCategory = category => {\n  return (dispatch, getState) => {\n    dispatch({ type: types.PRODUCT_PENDING });\n\n    const { currentPage, pageSize } = getState().paginationReducer;\n    ProductAPI.searchByCategory(category, currentPage, pageSize)\n      .then(res => {\n        dispatch({\n          type: types.SEARCH_PRODUCTS,\n          payload: res.data.results\n        });\n\n        dispatch({\n          type: types.CREATE_PAGINATION,\n          payload: { page: res.data }\n        });\n      })\n      .catch(err => console.log({ err }));\n  };\n};\n\nexport const detailProduct = id => {\n  return dispatch => {\n    dispatch({ type: types.PRODUCT_PENDING });\n    ProductAPI.detailProduct(id).then(res => {\n      dispatch({\n        type: types.DETAIL_PRODUCT,\n        payload: { details: res.data }\n      });\n    });\n  };\n};\n","import axios from '../axios/axios.base';\nimport { product } from './endpoints';\n\nexport const searchByCategory = (category, page, page_size) => {\n  const body = {\n    key_word: '',\n    category: category === 'All' ? '' : category\n  };\n  return axios.post(product.SEARCH_CATEGORY, body, {\n    params: { page, page_size }\n  });\n};\n\nexport const detailProduct = id => {\n  return axios.get(product.PRODUCT_DETAIL(id));\n};\n","import * as types from \"../constants/actionTypes\";\nimport * as CategoryAPI  from \"../api/category.api\";\n\nexport const fetchCategories = () => {\n  return dispatch => {\n    CategoryAPI.fetchCategories()\n      .then(res => {\n        dispatch({\n          type: types.FETCH_CATEGORIES,\n          payload: res.data\n        });\n      })\n      .catch(console.log);\n  };\n};\n\nexport const changeSelectedCategory = categoryName => {\n  return (dispatch, getState) => {\n    let currentSelected = getState().categoriesReducer.categories.find(\n      category => category.name === categoryName\n    );\n    dispatch({\n      type: types.CHANGE_SELECTED_CATEGORY,\n      payload: { category: currentSelected }\n    });\n    // Reset page number to 1 when changing category\n    // Prevent 404 error caused by overflow page number\n    dispatch({\n      type: types.GO_TO_PAGE,\n      payload: { page_number: 1 }\n    });\n  };\n};\n","import axios from '../axios/axios.base'\nimport { category } from './endpoints'\n\nexport const fetchCategories = () => {\n  return axios.get(category.CATEGORY_LIST);\n}","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchCategories, changeSelectedCategory } from \"../../actions\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nclass Categories extends PureComponent {\n  componentDidMount = () => {\n    this.props.fetchCategories();\n  };\n\n  componentDidUpdate = prevProps => {\n    const {\n      match: { params },\n      categories\n    } = this.props;\n\n    if (prevProps.categories.isLoading !== categories.isLoading) {\n      this.props.changeSelectedCategory(params.category);\n    }\n  };\n\n  render() {\n    const { categories } = this.props.categories;\n    const currentCategory = this.props.match.params.category;\n\n    const formatURL = url => url.replace(/\\s/g, '-');\n\n    const categoriesList = categories.map(category => {\n      const { id, name } = category;\n      return (\n        <li className=\"nav-item text-nowrap\" key={id}>\n          <Link\n            className={\n              // Check active link\n              currentCategory === name ? \"nav-link active\" : \"nav-link border\"\n            }\n            to={`/products/${formatURL(name)}`}\n            onClick={() => this.props.changeSelectedCategory(name)}\n          >\n            {name}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      // Not display until loading done\n      !this.props.categories.isLoading && (\n        <ul className=\"nav nav-pills nav-justified\" id=\"category-bar\">\n          <li className=\"nav-item text-nowrap\">\n            <a className=\"nav-link\">Filter by:</a>\n          </li>\n          {categoriesList}\n        </ul>\n      )\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categoriesReducer\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeSelectedCategory: name => dispatch(changeSelectedCategory(name)),\n    fetchCategories: () => dispatch(fetchCategories())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(Categories));\n","import React from 'react';\n\nconst StarRating = props => {\n  const RatingStars = () => {\n    // Rounded to nearest 0.5\n    let rating = Math.round(props.rating * 2) / 2;\n    let starIcons = [];\n    for (let i = 0; i < 5; i++) {\n      if (rating >= 1)\n        starIcons.push(<i key={i} className='fa fa-star'></i>); // Full star\n      else if (rating === 0.5)\n        starIcons.push(<i key={i} className='fa fa-star-half-o'></i>); // Half star\n      else\n        starIcons.push(<i key={i} className='fa fa-star-o'></i>); // None star\n      rating--;\n    }\n    \n    return starIcons;\n  };\n\n  return <React.Fragment>{RatingStars()}</React.Fragment>;\n};\n\nexport default StarRating;\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '../actions/cart.actions';\nimport { useHistory } from 'react-router-dom';\nimport StarRating from './StarRating';\nimport { Col } from 'reactstrap';\n\nconst OneProduct = props => {\n  const [hasError, setHasError] = useState(false);\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cartReducer);\n  const auth = useSelector(state => state.authReducer);\n  const history = useHistory();\n\n  const isAdded = () => {\n    return cart.cart_detail.find(item => item.product.id === props.id);\n  };\n\n  const handleAddToCart = e => {\n    e.stopPropagation();\n    !auth.isLogin && history.push('/login');\n    dispatch(addToCart(auth.token, props.id));\n  };\n\n  const handleClick = () => {\n    history.push(`/products/${props.id}/detail`);\n  };\n\n  return (\n    <Col md=\"3\" sm=\"4\" xs=\"6\" className=\"mb-4\">\n      <div className=\"card card-product shadow\" onClick={handleClick}>\n        <img\n          title={props.name}\n          onError={() => setHasError(true)}\n          className=\"card-img-top img-fluid border-bottom\"\n          //   src='https://via.placeholder.com/250'\n          src={\n            !hasError && props.image\n              ? props.image\n              : 'https://via.placeholder.com/250?text=placeholder'\n          }\n          alt=\"Missing image\"\n        />\n        <div className=\"card-body\">\n          <h5\n            className=\"card-text font-weight-bold\"\n            id=\"product-name\"\n            title={props.id}\n          >\n            {props.name}\n          </h5>\n          <p className=\"card-text font-weight-bolder text-muted mb-1\">\n            ${props.price.toLocaleString('en-EN')}\n          </p>\n          <p className=\"card-text mb-1\">\n            {props.category.map(category => category.name).join(', ')}\n          </p>\n          <p title={props.rating + ' stars'}>\n            <StarRating rating={props.rating} />\n          </p>\n          <button className=\"btn btn-success\" onClick={handleAddToCart}>\n            <i\n              className={'fa mr-2 ' + (isAdded() ? 'fa-check' : 'fa-cart-plus')}\n            ></i>\n            Add to cart\n          </button>\n        </div>\n      </div>\n    </Col>\n  );\n};\n\nexport default React.memo(OneProduct);\n","import React from \"react\";\n\nconst LoadingButton = () => {\n  return (\n    <div>\n      <button className='btn btn-lg btn-danger font-weight-bold mt-1'>\n        <i className='fa fa-cog fa-spin mr-2 fa-lg'></i>Loading...\n      </button>\n    </div>\n  );\n};\n\nexport default React.memo(LoadingButton);\n","import React, { Component } from \"react\";\n\nexport default class EmptyButton extends Component {\n  render() {\n    return (\n      <div className='col'>\n        <button className=\"btn btn-danger btn-lg mt-1\">\n          <i className=\"fa fa-frown-o fa-lg mr-2\"></i>Empty category !\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport OneProduct from \"../../components/OneProduct\";\nimport LoadingButton from \"../../components/LoadingButton\";\nimport { connect } from \"react-redux\";\nimport {\n  searchByCategory\n} from \"../../actions/products.actions\";\nimport { withRouter } from \"react-router-dom\";\nimport EmptyButton from \"../../components/EmptyButton\";\n\nclass Products extends PureComponent {\n  componentDidMount() {\n    console.log(\"FETCHING API\");\n\n    const {\n      match: { params }\n    } = this.props;\n    this.props.searchByCategory(params.category);\n  }\n\n  deformatURL = url => {\n    return url.replace(/-/g, ' ');\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: { params },\n      categories,\n      history\n    } = this.props;\n    // Prevent infinite loops\n    if (prevProps.categories.currentSelected !== categories.currentSelected) {\n      this.props.searchByCategory(this.deformatURL(params.category));\n    }\n    // Redirect when category not matched\n    if (!categories.isLoading && this.isCategoryNotFound()) {\n      history.replace(\"/404\");\n    }\n  }\n\n  isCategoryNotFound = () => {\n    const {\n      match: { params },\n      categories: { categories }\n    } = this.props;\n    return !categories.find(category => category.name === this.deformatURL(params.category));\n  };\n\n  render() {\n    // product: {id: number, name: string, image: string, price: number, created_at: string, category: string}\n    const { isLoading, products } = this.props.products;\n    const { currentSelected } = this.props.categories;\n\n    let productsList = products.map(product => {\n      return <OneProduct {...product} key={product.id} />;\n    });\n\n    return (\n      <div>\n        <h2>Category: {currentSelected && currentSelected.name}</h2>\n        {isLoading ? (\n          <LoadingButton />\n        ) : (\n          <div className=\"row\">\n            {productsList.length ? productsList : <EmptyButton />}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    products: state.productsReducer,\n    categories: state.categoriesReducer,\n    auth: state.authReducer\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    searchByCategory: category => dispatch(searchByCategory(category))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(Products));\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  nextPage,\n  previousPage,\n  gotoPage\n} from \"../actions/pagination.actions\";\n\nconst Pagination = () => {\n  const dispatch = useDispatch();\n  const pagination = useSelector(state => state.paginationReducer);\n\n  const isActive = pageNumber => pageNumber === pagination.currentPage;\n  const isFirstPage = pagination.previous === null;\n  const isLastPage = pagination.next === null;\n\n  const paginationItems = [];\n  for (let page = 1; page <= pagination.totalPages; page++) {\n    paginationItems.push(\n      <li className={\"page-item\" + (isActive(page) && \" active\")} key={page}>\n        <button className=\"page-link\" onClick={() => dispatch(gotoPage(page))}>\n          {page}\n        </button>\n      </li>\n    );\n  }\n\n  return (\n    <div>\n      <ul className=\"pagination justify-content-center\">\n        <li className={\"page-item\" + (isFirstPage && \" disabled\")}>\n          <button\n            className=\"page-link\"\n            onClick={() => dispatch(previousPage())}\n          >\n            <i className=\"fa fa-chevron-left\"></i>\n          </button>\n        </li>\n\n        {paginationItems}\n\n        <li className={\"page-item\" + (isLastPage && \" disabled\")}>\n          <button className=\"page-link\" onClick={() => dispatch(nextPage())}>\n            <i className=\"fa fa-chevron-right\"></i>\n          </button>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Pagination;\n","import { searchByCategory } from \"./products.actions\";\nimport * as types from \"../constants/actionTypes\";\n\nexport const nextPage = () => {\n  return (dispatch, getState) => {\n    let { currentSelected } = getState().categoriesReducer;\n    dispatch({ type: types.NEXT_PAGE });\n    dispatch(searchByCategory(currentSelected.name));\n  };\n};\n\nexport const previousPage = () => {\n  return (dispatch, getState) => {\n    let { currentSelected } = getState().categoriesReducer;\n    dispatch({ type: types.PREVIOUS_PAGE });\n    dispatch(searchByCategory(currentSelected.name));\n  };\n};\n\nexport const gotoPage = page => {\n  return (dispatch, getState) => {\n    let { currentSelected } = getState().categoriesReducer;\n    dispatch({\n      type: types.GO_TO_PAGE,\n      payload: { page_number: page }\n    });\n    dispatch(searchByCategory(currentSelected.name));\n  };\n};\n","import React, { Component } from \"react\";\nimport Categories from \"./Categories\";\nimport Products from \"./Products\";\nimport { connect } from \"react-redux\";\nimport Pagination from \"../../components/Pagination\";\n\nclass Home extends Component {\n  render() {\n    return (\n      <div>\n        <Categories />\n        <hr />\n        <Products />\n        <hr />\n        <Pagination />\n      </div>\n    );\n  }\n}\n\nexport default connect()(Home);\n","import React from 'react';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"container-fluid container-lg py-4 mt-5\">\n            {props.children}\n        </div>\n    );\n}\n\nexport default React.memo(Wrapper);","import { useState } from \"react\";\n\nconst useInput = (initialState = '') => {\n  const [value, setValue] = useState(initialState);\n  const bindInput = {\n    value,\n    onChange: e => setValue(e.target.value)\n  };\n\n  return [value, bindInput];\n};\n\nexport default useInput;\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable jsx-a11y/no-redundant-roles */\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from '../../actions/auth.actions';\nimport useInput from '../../components/useInput';\n\nconst LoginForm = props => {\n  const [username, bindUsername] = useInput('test1@gmail.com');\n  const [password, bindPassword] = useInput('password');\n\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.authReducer);\n\n  useEffect(() => {\n    auth.isLogin && props.history.push('/user');\n  }, [auth.isLogin]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(login(username, password));\n  };\n\n  return (\n    <div>\n      <div className=\"row justify-content-center\">\n        <div className=\"col-sm-5\">\n          <div className=\"card text-center\">\n            <div className=\"card-header bg-success text-white\">\n              <strong>You need to login first!</strong>\n            </div>\n            <div className=\"card-body\">\n              <form role=\"form\" onSubmit={handleSubmit}>\n                <fieldset>\n                  <div className=\"row\">\n                    <div className=\"mx-auto\">\n                      <img\n                        className=\"mb-3 rounded-circle\"\n                        src=\"https://img.icons8.com/cute-clipart/100/000000/forgot-password.png\"\n                        alt=\"Missing\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-sm-12 col-md-10 offset-md-1 px-0\">\n                      <div className=\"form-group\">\n                        <div className=\"input-group\">\n                          <span className=\"input-group-prepend\">\n                            <span className=\"input-group-text\">\n                              <i className=\"fa fa-user\"></i>\n                            </span>\n                          </span>\n                          <input\n                            className=\"form-control\"\n                            placeholder=\"Username\"\n                            type=\"text\"\n                            {...bindUsername}\n                            autoFocus\n                          />\n                        </div>\n                      </div>\n                      <div className=\"form-group\">\n                        <div className=\"input-group\">\n                          <span className=\"input-group-prepend\">\n                            <span className=\"input-group-text\">\n                              <i className=\"fa fa-lock\"></i>\n                            </span>\n                          </span>\n                          <input\n                            className=\"form-control\"\n                            placeholder=\"Password\"\n                            type=\"password\"\n                            onInput={() =>\n                              auth.loginError && (auth.loginError.email = '')\n                            }\n                            {...bindPassword}\n                          />\n                        </div>\n                        {/* LOGIN ERROR */}\n                        <div className=\"error-input\">\n                          {auth.loginError && auth.loginError.email}\n                        </div>\n                      </div>\n                      <div className=\"form-group\">\n                        <input\n                          type=\"submit\"\n                          className=\"btn btn-lg btn-primary btn-block\"\n                          value=\"Sign in\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </fieldset>\n              </form>\n            </div>\n            <div className=\"card-footer\">\n              Don't have an account! <br />\n              <Link to=\"/signup\">Sign Up Here</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable jsx-a11y/no-redundant-roles */\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { registerAccount } from '../../actions/auth.actions';\nimport useInput from '../../components/useInput';\n\nconst SignupForm = props => {\n  const [firstName, bindFirstName] = useInput('Phong');\n  const [lastName, bindLastName] = useInput('To');\n  const [email, bindEmail] = useInput('quocduby@gmail.com');\n  const [password, bindPassword] = useInput('password');\n  const [confirmPassword, bindConfirmPassword] = useInput('password');\n  const [city, bindCity] = useInput('Can Tho');\n  const [passwordError, setPasswordError] = useState('');\n\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.authReducer);\n  const error = auth.registerError;\n\n  useEffect(() => {\n    if (auth.registerSuccess) {\n      props.history.push('/login');\n    }\n  }, [auth.registerSuccess]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (password !== confirmPassword) {\n      setPasswordError('Password does not match');\n      return;\n    }\n    // Object key based on API input data\n    const account = {\n      first_name: firstName,\n      last_name: lastName,\n      email,\n      password,\n      confirm_password: confirmPassword,\n      city\n    };\n    dispatch(registerAccount(account));\n  };\n\n  const resetError = () => setPasswordError('');\n\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"col-sm-8 col-md-6 offset-sm-2 offset-md-3\">\n          <div className=\"card text-center\">\n            <div className=\"card-header bg-success text-white\">\n              <strong>First time with us? Sign up now!</strong>\n            </div>\n            <div className=\"card-body\">\n              <form role=\"form\" onSubmit={handleSubmit}>\n                <fieldset>\n                  <div className=\"row\">\n                    <div className=\"mx-auto\">\n                      <img\n                        className=\"mb-3 rounded-circle\"\n                        src=\"https://img.icons8.com/bubbles/100/000000/user.png\"\n                        alt=\"missing\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"row text-left\">\n                    <div className=\"col-sm-12 col-md-10 offset-md-1 px-0\">\n                      <div className=\"form-group\">\n                        <label>First name</label>\n                        <input\n                          className=\"form-control\"\n                          placeholder=\"Ex: John\"\n                          type=\"text\"\n                          {...bindFirstName}\n                          autoFocus\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label>Last name</label>\n                        <input\n                          className=\"form-control\"\n                          placeholder=\"Ex: Doe\"\n                          type=\"text\"\n                          {...bindLastName}\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label>Email</label>\n                        <input\n                          className=\"form-control\"\n                          placeholder=\"Ex: example@mail.com\"\n                          type=\"email\"\n                          {...bindEmail}\n                          required\n                        />\n                        <div className=\"error-input\">\n                          {error && error.email && error.email[0]}\n                        </div>\n                      </div>\n                      <div className=\"form-group\">\n                        <label>Password</label>\n                        <input\n                          className=\"form-control\"\n                          placeholder=\"At least 4 characters\"\n                          type=\"password\"\n                          {...bindPassword}\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label>Confirm password</label>\n                        <input\n                          onBlur={resetError}\n                          onInput={resetError}\n                          className=\"form-control\"\n                          placeholder=\"At least 4 characters\"\n                          type=\"password\"\n                          {...bindConfirmPassword}\n                          required\n                        />\n                        <div className=\"error-input\">{passwordError}</div>\n                      </div>\n                      <div className=\"form-group\">\n                        <label>City (For shipping)</label>\n                        <input\n                          className=\"form-control\"\n                          placeholder=\"Ex: Can Tho\"\n                          type=\"text\"\n                          {...bindCity}\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <button\n                          type=\"submit\"\n                          className=\"btn btn-lg btn-primary btn-block\"\n                        >\n                          <i className=\"fa fa-user-plus mr-2\"></i>\n                          Sign up\n                        </button>\n                      </div>\n                      <hr className=\"mb-1\" />\n                      <div className=\"text-center\">Or</div>\n                      <Link\n                        to=\"/login\"\n                        className=\"btn btn-success btn-lg btn-block\"\n                      >\n                        <i className=\"fa fa-sign-in mr-2\"></i>\n                        Login\n                      </Link>\n                    </div>\n                  </div>\n                </fieldset>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignupForm;\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { udpateCartItem, deleteCartItem } from '../actions';\n\nconst CartItem = props => {\n  const { product } = props;\n  const auth = useSelector(state => state.authReducer);\n  const cart = useSelector(state => state.cartReducer);\n  const [quantity, setQuantity] = useState(props.amount);\n  const dispatch = useDispatch();\n  return (\n    <React.Fragment>\n      <tr>\n        <td data-th=\"Product\">\n          <div className=\"row\">\n            <div className=\"col-lg-2 col-md-3 col-sm-4 d-flex align-items-center\">\n              <img\n                src={product.image || 'https://via.placeholder.com/150'}\n                alt=\"Missing image\"\n                className=\"img-fluid rounded\"\n              />\n            </div>\n            <div className=\"col-lg-10 col-md-9 col-sm-8\">\n              <h5 className=\"font-weight-bolder\" title={product.name}>\n                {product.name}\n              </h5>\n              <h6>Model: {product.model}</h6>\n            </div>\n          </div>\n        </td>\n        <td data-th=\"Price\" className=\"text-center\">\n          ${product.price.toLocaleString('en-EN')}\n        </td>\n        <td data-th=\"Quantity\" className=\"text-center\">\n          <input\n            type=\"number\"\n            className=\"form-control text-center\"\n            min=\"1\"\n            value={quantity}\n            onChange={e => setQuantity(e.target.value)}\n          />\n        </td>\n        <td data-th=\"Subtotal\" className=\"text-center\">\n          ${(product.price * quantity).toLocaleString('en-EN')}\n        </td>\n        <td className=\"actions text-center\" data-th=\"\">\n          <button\n            className=\"btn btn-info btn-sm\"\n            title=\"Update this item\"\n            // Use current quantity of CartItem\n            onClick={() =>\n              dispatch(udpateCartItem(auth.token, product.id, quantity))\n            }\n          >\n            <i className={'fa fa-refresh' + (cart.isPending ? ' fa-spin' : '')}></i>\n          </button>\n          <button\n            className=\"btn btn-danger btn-sm\"\n            title=\"Delete this item\"\n            onClick={() => dispatch(deleteCartItem(auth.token, product.id))}\n          >\n            <i className=\"fa fa-trash-o\"></i>\n          </button>\n        </td>\n      </tr>\n    </React.Fragment>\n  );\n};\n\nexport default React.memo(CartItem);\n","/* eslint-disable no-restricted-globals */\nimport React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport \"./cart.style.scss\";\nimport CartItem from \"../../components/CartItem\";\nimport { clearCart } from \"../../actions/cart.actions\";\n\nclass Cart extends Component {\n  render() {\n    const { cart, auth } = this.props;\n\n    const handleClearCart = () => {\n      if (confirm(\"Are you sure ?\")) {\n        this.props.clearCart(auth.token);\n      }\n    };\n\n    if (!auth.isLogin) {\n      return <Redirect to=\"/login\" />;\n    }\n    const cartItems = cart.cart_detail.map(item => {\n      return <CartItem {...item} key={item.product.id} />;\n    });\n    return (\n      <React.Fragment>\n        <div className=\"table-responsive\">\n          <table id=\"cart\" className=\"table table-hover table-striped\">\n            <thead>\n              <tr>\n                <th>Product</th>\n                <th>Price</th>\n                <th>Quantity</th>\n                <th>Subtotal</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {/* Check if cart is empty */}\n              {cartItems.length ? (\n                cartItems\n              ) : (\n                <tr>\n                  <td colSpan=\"5\" className=\"text-center text-info h3\">\n                    Cart is empty !\n                  </td>\n                </tr>\n              )}\n            </tbody>\n            <tfoot>\n              <tr>\n                <td>\n                  <Link to=\"/\" className=\"btn btn-warning\">\n                    <i className=\"fa fa-chevron-circle-left fa-lg mr-1\"></i>\n                    Continue Shopping\n                  </Link>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-danger m-1\"\n                    onClick={handleClearCart}\n                  >\n                    <i className=\"fa fa-times fa-lg mr-1\"></i>Clear cart\n                  </button>\n                </td>\n                <td colSpan=\"2\" className=\"text-center\">\n                  <strong>Total ${cart.total.toLocaleString(\"en-EN\")}</strong>\n                </td>\n                <td colSpan=\"2\">\n                  <Link\n                    to=\"/checkout\"\n                    className=\"btn btn-success btn-block text-white\"\n                  >\n                    <i className=\"fa fa-cart-arrow-down fa-lg mr-2\"></i>Checkout\n                  </Link>\n                </td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  cart: state.cartReducer,\n  auth: state.authReducer\n});\n\nconst mapDispatchToProps = dispatch => ({\n  clearCart: token => dispatch(clearCart(token))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport userImage from '../assets/user.png';\nimport { Link } from 'react-router-dom';\n\nconst UserInfo = props => {\n  const cart = useSelector(state => state.cartReducer);\n  const userInfo = useSelector(state => state.userReducer);\n  const auth = useSelector(state => state.authReducer);\n  return (\n    <React.Fragment>\n      {!auth.isLogin && <Redirect to=\"/login\" />}\n\n      <div className=\"jumbotron\">\n        <div className=\"row align-items-center\">\n          <div className=\"col-md-6 pb-3 text-center\">\n            <img src={userImage} className=\"img-fluid\" alt=\"User Information\" />\n          </div>\n          <div className=\"col-md-6\">\n            <h2 className=\"text-success font-weight-bold\">User information</h2>\n            <hr />\n            <p>\n              <b>First name: </b>\n              {userInfo.firstName}\n            </p>\n            <p>\n              <b>Last name: </b>\n              {userInfo.lastName}\n            </p>\n            <p>\n              <b>Email: </b>\n              {userInfo.email}\n            </p>\n            <p>\n              <b>City: </b>\n              {userInfo.city || 'Unkown'}\n            </p>\n            <p>\n              <b>Total items in cart: </b>\n              {cart.cart_detail.length}\n            </p>\n            <p>\n              <b>Total cart price: </b>${cart.total.toLocaleString('en-EN')}\n            </p>\n            <Link to=\"/update-user\" className=\"btn btn-lg btn-danger\">\n              <i className=\"fa fa-wrench fa-lg mr-2\"></i>Change information\n            </Link>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default React.memo(UserInfo);\n","import React, { Component } from 'react';\nimport { injectStripe, CardElement } from 'react-stripe-elements';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { checkoutCart } from '../../actions/cart.actions';\n\nclass Checkout extends Component {\n  state = {\n    isLoading: null,\n    errorMessage: ''\n  };\n\n  submitCard = e => {\n    const { userInfo, auth } = this.props;\n    this.setState({ isLoading: true });\n    this.props.stripe.createToken({ email: userInfo.email }).then(res => {\n      console.log('STRIPE TOKEN', res);\n      if (res.error) {\n        this.setState({\n          errorMessage: res.error.message,\n          isLoading: null\n        });\n      } else {\n        // Stripe token received\n        this.props.checkoutCart(auth.token, res.token.id).then(() => {\n          console.log('CHECKED OUT');\n          this.setState({\n            isLoading: false\n          });\n        });\n        // this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  render() {\n    const { userInfo, cart } = this.props;\n    const { isLoading } = this.state;\n    // totalPrice === 0 that means PAID\n    const isPaid = cart.paid_at; // || this.props.cart.total === 0;\n    return (\n      <div className=\"row\">\n        <div className=\"offset-3 col-md-6\">\n          <div className=\"card shadow\" id=\"checkout\">\n            <div className=\"card-header bg-success text-white\">\n              <h4 className=\"text-center font-weight-bold\">\n                Order Information\n              </h4>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"form-group\">\n                <label>Customer</label>\n                <input\n                  readOnly\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={\n                    userInfo.firstName\n                      ? userInfo.firstName + ' ' + userInfo.lastName\n                      : 'Loading...'\n                  }\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Email</label>\n                <input\n                  readOnly\n                  type=\"email\"\n                  className=\"form-control\"\n                  value={userInfo.email || 'Loading...'}\n                />\n              </div>\n              <div className=\"form-group row\">\n                <label className=\"col-md-3 col-form-label\">Total price:</label>\n                <input\n                  readOnly\n                  type=\"text\"\n                  className=\"col-md-9 form-control-plaintext font-weight-bold\"\n                  value={'$' + cart.total.toLocaleString('en-EN')}\n                />\n              </div>\n              <hr />\n              <label>Card information (4242424242424242)</label>\n              <CardElement\n                hidePostalCode={true}\n                className=\"border p-2 rounded\"\n                style={{ base: { fontSize: '18px' } }}\n              />\n              <div className=\"text-danger font-italic font-smaller\">\n                {this.state.errorMessage}\n              </div>\n\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-lg btn-block mt-3\"\n                onClick={this.submitCard}\n                disabled={isLoading || isPaid}\n              >\n                <i\n                  // Just animation... Forget it\n                  className={\n                    'fa fa-lg mr-2 ' +\n                    (isLoading !== null\n                      ? isLoading === true\n                        ? 'fa-spinner fa-spin'\n                        : 'fa-check'\n                      : 'fa-shopping-cart')\n                  }\n                ></i>\n                {isPaid ? 'Paid successfully !' : 'Checkout'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    userInfo: state.userReducer,\n    cart: state.cartReducer,\n    auth: state.authReducer\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkoutCart: (token, stripe_token) =>\n      dispatch(checkoutCart(token, stripe_token))\n  };\n};\n\nexport default injectStripe(\n  connect(mapStateToProps, mapDispatchToProps)(withRouter(Checkout))\n);\n","import React from 'react';\n\nconst NotFound404 = () => {\n    return (\n        <div className='jumbotron text-center' id='not-found-page'>\n            <i className=\"fa fa-frown-o text-danger\"></i>\n            <h1>404 - Page not found</h1>\n            <code>Please check your URL and try again!</code>\n        </div>\n    );\n}\n\nexport default NotFound404;\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState } from 'react';\n\nconst ProductImages = props => {\n  const [thumbnail, setThumbnail] = useState(props.image);\n\n  const renderFeeds = () => {\n    return props.feeds.map(feed => (\n      <div className=\"feed border\" key={feed.id}>\n        <img\n          src={feed.url}\n          className=\"img-fluid rounded\"\n          alt=\"Product\"\n          onClick={() => setThumbnail(feed.url)}\n        />\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"col-md-4 border overflow-hidden\">\n      <div className=\"d-flex justify-content-center mt-2 shadow\">\n        <img\n          id=\"prod-image\"\n          src={thumbnail || 'https://place-hold.it/300'}\n          className=\"img-fluid img-thumbnail\"\n          alt=\"Product image\"\n        />\n      </div>\n      <hr className=\"mb-1\" />\n      <div className=\"row px-3 d-flex justify-content-center\" id=\"feeds\">\n        {renderFeeds()}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductImages;\n","import React from 'react';\nimport StarRating from '../StarRating';\nimport useInput from '../useInput';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { addToCart } from '../../actions/cart.actions';\n\nconst ProductInfo = props => {\n  const { product } = props;\n  const [quantity, bindQuantity] = useInput(1);\n  const auth = useSelector(state => state.authReducer);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const checkLogin = () => {\n    !auth.isLogin && history.push('/login');\n  };\n\n  const handleBuyNow = () => {\n    checkLogin();\n    dispatch(addToCart(auth.token, product.id, quantity));\n    history.push('/cart');\n  };\n\n  const handleAddToCart = () => {\n    checkLogin();\n    dispatch(addToCart(auth.token, product.id, quantity));\n  };\n\n  const renderTags = () => {\n    return product.tag.split(',').map((tag, index) => (\n      <span key={index} className=\"badge badge-pill badge-success mr-1\">\n        {tag}\n      </span>\n    ));\n  };\n\n  return (\n    <div className=\"col-md-5 border py-2\" id=\"prod-info\">\n      <h3 id=\"name\">{product.name}</h3>\n      <StarRating rating={product.rating} />\n      <div>Tag: {renderTags()}</div>\n      <hr />\n      <div className=\"text-warning h2\" id=\"price\">\n        US ${product.price.toLocaleString('en-EN')}\n      </div>\n      <dl>\n        <dt>Description</dt>\n        <dd>{product.description}</dd>\n      </dl>\n      <div>\n        <dl>\n          <dt>Model</dt>\n          <dd>{product.model}</dd>\n        </dl>\n        <dl>\n          <dt>Category</dt>\n          <dd>{product.category.map(cate => cate.name).join(', ')}</dd>\n        </dl>\n        <dl>\n          <dt>Color</dt>\n          <dd>{product.color}</dd>\n        </dl>\n      </div>\n      <hr className=\"mt-n2\" />\n      <form className=\"form-inline\">\n        <div className=\"form-group\">\n          <label className=\"col-sm-2 col-form-label\">Quantity</label>\n          <input\n            type=\"number\"\n            className=\"form-control text-center col-sm-2\"\n            min=\"1\"\n            value={quantity}\n            {...bindQuantity}\n          />\n          <div className=\"col-sm-6 text-right\">\n            <button className=\"btn btn-outline-info text-dark\" type=\"button\">\n              <i className=\"fa fa-thumbs-o-up fa-lg text-primary\"></i>{' '}\n              {product.favorites}\n            </button>\n          </div>\n        </div>\n      </form>\n      <hr />\n      <div className=\"d-flex\">\n        <button\n          type=\"button\"\n          className=\"btn flex-grow-1 btn-lg btn-danger m-1 text-nowrap\"\n          onClick={handleBuyNow}\n        >\n          <i className=\"fa fa-cart-arrow-down fa-lg mr-2\"></i>Buy Now\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn flex-grow-1 btn-lg btn-outline-success m-1 text-nowrap\"\n          onClick={handleAddToCart}\n        >\n          <i className=\"fa fa-cart-plus fa-lg mr-2\"></i>Add to Cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductInfo;\n","import React from 'react';\n\nconst ProductDescription = props => {\n  return (\n    <div className=\"col p-0\">\n      <div className=\"card mt-3 shadow\">\n        <div className=\"card-header text-center bg-info p-0 overflow-hidden\">\n          <button\n            className=\"btn text-white font-weight-bold btn-block\"\n            data-target=\"#description-body\"\n            data-toggle=\"collapse\"\n          >\n            Click to show full description\n          </button>\n        </div>\n        <div className=\"collapse hide overflow-hidden\" id=\"description-body\">\n          <div className=\"card-body\">\n            <div dangerouslySetInnerHTML={{ __html: props.description }}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDescription;\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React from 'react';\nimport { useHistory } from 'react-router-dom'\n\nconst OtherProducts = props => {\n  const history = useHistory();\n  const { products } = props;\n\n  const renderOtherProducts = () => {\n    return products.map(product => (\n      <div className=\"card col-md-2\" key={product.id}\n        onClick={() => history.push(`/products/${product.id}/detail`)}\n      >\n        <img\n          className=\"card-img-top border-bottom\"\n          src={product.image || 'https://place-hold.it/200'}\n          alt=\"Product image\"\n        />\n        <div className=\"card-body\">\n          <p className=\"card-title\">{product.name}</p>\n          <p className=\"card-text text-muted font-weight-bold\">\n            ${product.price.toLocaleString('en-EN')}\n          </p>\n        </div>\n        <div className=\"card-footer\">\n          <button className=\"btn btn-success\"><i className=\"fa fa-info-circle mr-2\"></i>Details</button>\n        </div>\n      </div>\n    ));\n  };\n  return (\n    <React.Fragment>\n      <h2 className=\"mb-0 mt-3\">Other products</h2>\n      <div className=\"d-flex\" id=\"prod-others\">\n        {renderOtherProducts()}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default OtherProducts;\n","import React from 'react';\n\nconst CompanyInfo = props => {\n  const { company } = props;\n  return (\n    <div className=\"col-md-3 border pt-2\" id=\"company\">\n      <div className=\"row justify-content-center\">\n        <img\n          src={company.logo || 'https://place-hold.it/100'}\n          className=\"img-fluid img-thumbnail rounded-circle w-75\"\n          alt=\"\"\n        />\n      </div>\n      <dl className=\"col\">\n        <dd>\n          <h3 className=\"text-center\">{company.store_name}</h3>\n        </dd>\n      </dl>\n      <hr />\n      <dl className=\"col\">\n        <dt>Address</dt>\n        <dd>{company.address}</dd>\n      </dl>\n      <dl className=\"col\">\n        <dt>Phone number</dt>\n        <dd>{company.phone_number}</dd>\n      </dl>\n      <dl className=\"col\">\n        <dt>Products</dt>\n        <dd>\n          {company.productgroup &&\n            company.productgroup.map(product => product.name).join(', ')}\n        </dd>\n      </dl>\n      <hr />\n      <div className=\"social-links\">\n        <p>\n          <i className=\"fa fa-2x fa-fw fa-facebook-square text-info\"></i>\n          {company.social_link.facebook}\n        </p>\n        <p>\n          <i className=\"fa fa-2x fa-fw fa-instagram text-danger\"></i>\n          {company.social_link.instagram}\n        </p>\n        <p>\n          <i className=\"fa fa-2x fa-fw fa-twitter text-primary\"></i>\n          {company.social_link.twitter}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default CompanyInfo;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './detail.style.scss';\nimport ProductImages from '../../components/ProductDetail/ProductImages';\nimport ProductInfo from '../../components/ProductDetail/ProductInfo';\nimport ProductDescription from '../../components/ProductDetail/ProductDescription';\nimport OtherProducts from '../../components/ProductDetail/OtherProducts';\nimport CompanyInfo from '../../components/ProductDetail/CompanyInfo';\nimport { detailProduct } from '../../actions/products.actions';\nimport LoadingButton from '../../components/LoadingButton';\n\nexport class ProductDetail extends Component {\n  componentDidMount() {\n    const {\n      match: { params }\n    } = this.props;\n    this.props.detailProduct(params.id);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: { params }\n    } = this.props;\n    if (prevProps.match.params.id !== params.id) {\n      this.props.detailProduct(params.id);\n    }\n  }\n\n  render() {\n    const { details, isLoading } = this.props;\n\n    return isLoading ? (\n      <LoadingButton />\n    ) : (\n      <React.Fragment>\n        <button\n          type=\"button\"\n          className=\"btn btn-link\"\n          onClick={() => this.props.history.push('/products')}\n        >\n          <i className=\"fa fa-chevron-left fa-lg mr-2\"></i>Back\n        </button>\n        <div className=\"row shadow\">\n          <ProductImages image={details.product.image} feeds={details.feeds} />\n          <ProductInfo product={details.product} />\n          <CompanyInfo company={details.company} />\n        </div>\n        <div className=\"row\">\n          <ProductDescription description={details.product.full_description} />\n        </div>\n        <div className=\"row\">\n          <OtherProducts products={details.other_products} />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  details: state.productsReducer.details,\n  isLoading: state.productsReducer.isLoading\n});\n\nconst mapDispatchToProps = dispatch => ({\n  detailProduct: id => dispatch(detailProduct(id))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport useInput from '../../../components/useInput';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { updatePassword, logout } from '../../../actions/auth.actions';\nimport { Input } from 'reactstrap'\n\nconst UpdatePassword = () => {\n  const [oldPassword, bindOldPassword] = useInput();\n  const [newPassword, bindNewPassword] = useInput();\n  const [confirmPassword, bindConfirmPassword] = useInput();\n  const [passwordError, setPasswordError] = useState('');\n\n  const auth = useSelector(state => state.authReducer);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (auth.isPasswordUpdated) {\n      dispatch(logout(auth.token));\n      history.push('/login');\n\n    }\n  }, [auth.isPasswordUpdated]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (newPassword !== confirmPassword) {\n      setPasswordError('Password does not match');\n      return;\n    }\n\n    dispatch(\n      updatePassword(auth.token, { oldPassword, newPassword, confirmPassword })\n    );\n  };\n\n  const resetError = () => setPasswordError('');\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1 px-0\">\n            <div className=\"form-group\">\n              <label>Old Password</label>\n              <Input\n                type=\"password\"\n                placeholder=\"Your old password\"\n                {...bindOldPassword}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>New Password</label>\n              <Input\n                type=\"password\"\n                placeholder=\"At least 4 character\"\n                {...bindNewPassword}\n                minLength=\"4\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Confirm Password</label>\n              <Input\n                onBlur={resetError}\n                onInput={resetError}\n                type=\"password\"\n                placeholder=\"At least 4 character\"\n                {...bindConfirmPassword}\n                minLength=\"4\"\n                required\n              />\n              <div className=\"error-input\">\n                {passwordError}\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <button type=\"submit\" className=\"btn btn-danger btn-lg btn-block\">\n                <i className=\"fa fa-key mr-2\"></i>\n                Update password\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdatePassword;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useRef } from 'react';\nimport avatar from '../../../assets/user.jpg';\nimport useInput from '../../../components/useInput';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { updateProfile } from '../../../actions/user.actions';\n\nconst UpdateProfile = () => {\n  const user = useSelector(state => state.userReducer);\n  const auth = useSelector(state => state.authReducer);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const emailRef = useRef(null);\n\n  useEffect(() => {\n    emailRef.current.value = user.email;\n    !auth.isLogin && history.push('/login');\n  }, [user.email, auth.isLogin]);\n\n  const [firstName, bindFirstName] = useInput(user.firstName);\n  const [lastName, bindLastName] = useInput(user.lastName);\n  const [city, bindCity] = useInput(user.city);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newProfile = { firstName, lastName, city };\n    dispatch(updateProfile(auth.token, newProfile)).then(res => {\n      history.push('user');\n    });\n  };\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div className=\"row text-center\">\n          <img\n            className=\"mb-3 w-25 rounded-circle mx-auto\"\n            src={avatar}\n            alt=\"missing\"\n          />\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-12 col-md-10 offset-md-1 px-0\">\n            <div className=\"form-group\">\n              <label>Email</label>\n              <input\n                type=\"email\"\n                ref={emailRef}\n                defaultValue=\"Loading...\"\n                className=\"form-control\"\n                readOnly\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>First name</label>\n              <input\n                className=\"form-control\"\n                placeholder=\"Ex: John\"\n                type=\"text\"\n                {...bindFirstName}\n                autoFocus\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Last name</label>\n              <input\n                className=\"form-control\"\n                placeholder=\"Ex: Doe\"\n                type=\"text\"\n                {...bindLastName}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>City</label>\n              <input\n                className=\"form-control\"\n                placeholder=\"Ex: Can Tho\"\n                type=\"text\"\n                {...bindCity}\n              />\n            </div>\n            <div className=\"form-group\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-lg btn-success btn-block\"\n              >\n                <i className=\"fa fa-pencil-square-o mr-2\"></i>\n                Update profile\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateProfile;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport UpdatePassword from './UpdatePassword';\nimport UpdateProfile from './UpdateProfile';\n\nconst UpdateUser = () => {\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"col-sm-8 col-md-6 offset-sm-2 offset-md-3\">\n          <div className=\"card text-center\">\n            <div className=\"card-header bg-info text-white\">\n              <strong>Update your information</strong>\n            </div>\n            <div className=\"card-body text-left\">\n              <UpdateProfile />\n              <UpdatePassword />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateUser;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport Navbar from './components/Navbar';\nimport Home from './containers/Home/Home';\nimport Wrapper from './components/Wrapper';\nimport LoginForm from './containers/Form/LoginForm';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport SignupForm from './containers/Form/SignupForm';\nimport Cart from './containers/Cart/Cart';\nimport UserInfo from './components/UserInfo';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Elements } from 'react-stripe-elements';\nimport Checkout from './containers/Checkout/Checkout';\nimport NotFound404 from './components/NotFound404';\nimport { fetchCart } from './actions/cart.actions';\nimport ProductDetail from './containers/ProductDetail/ProductDetail';\nimport UpdateUser from './containers/Form/UpdateUser/UpdateUser';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.authReducer);\n\n  useEffect(() => {\n    auth.isLogin && dispatch(fetchCart(auth.token));\n  }, [auth.isLogin]);\n\n  return (\n    <React.Fragment>\n      <Navbar />\n      <Wrapper>\n        <Switch>\n          <Redirect exact from=\"/\" to=\"/products/All\" />\n          <Redirect exact from=\"/products\" to=\"/products/All\" />\n\n          <Route path=\"/products/:category\" exact component={Home} />\n          <Route path=\"/products/:id/detail\" exact component={ProductDetail} />\n          <Route path=\"/login\" exact component={LoginForm} />\n          <Route path=\"/signup\" exact component={SignupForm} />\n          <Route path=\"/cart\" exact component={Cart} />\n          <Route path=\"/user\" exact component={UserInfo} />\n          <Route path=\"/update-user\" exact component={UpdateUser} />\n          <Route path=\"/checkout\" exact>\n            {/* Stripe checkout wrapper */}\n            <Elements>\n              <Checkout />\n            </Elements>\n          </Route>\n          <Route path=\"*\" exact component={NotFound404} />\n        </Switch>\n      </Wrapper>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import * as types from \"../constants/actionTypes\";\n\nconst initialState = {\n  isLoading: true,\n  currentSelected: {\n    id: -1,\n    name: \"All\"\n  },\n  categories: [{ id: -1, name: \"All\" }]\n};\n\nconst categoriesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.FETCH_CATEGORIES:\n      return {\n        ...state,\n        isLoading: false,\n        categories: [...initialState.categories, ...action.payload]\n      };\n\n    case types.CHANGE_SELECTED_CATEGORY:\n      return {\n        ...state,\n        currentSelected: action.payload.category\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default categoriesReducer;\n","import * as types from \"../constants/actionTypes\";\n\n// Product list\nconst initialState = {\n  isLoading: true,\n  products: [],\n  hasError: false,\n  details: {\n    feeds: [],\n    other_products: [],\n    product: {\n      tag: '',\n      name: '',\n      rating: 0,\n      price: 0,\n      description: '',\n      model: '',\n      category: [],\n      color: '',\n      favorites: 0,\n    },\n    company: {\n      logo: null,\n      store_name: '',\n      address: '',\n      phone_number: '',\n      productgroup: [],\n      social_link: {\n        facebook: '',\n        instagram: '',\n        twitter: '',\n      }\n    }\n  },\n};\n\nconst productsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.PRODUCT_PENDING:\n      return {\n        ...state,\n        isLoading: true\n      };\n\n    case types.FETCH_PRODUCTS:\n      return {\n        ...state,\n        isLoading: false,\n        products: action.payload\n      };\n      \n    case types.SEARCH_PRODUCTS:\n      return {\n        ...state,\n        isLoading: false,\n        products: action.payload\n      };\n\n    case types.DETAIL_PRODUCT:\n      return {\n        ...state,\n        isLoading: false,\n        details: action.payload.details\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default productsReducer;\n","import * as types from \"../constants/actionTypes\";\n\nconst inintialState = {\n  isPending: false,\n  id: null,\n  total: 0,\n  status: null,\n  user: null,\n  paid_at: null,\n  cart_detail: []\n};\n\nconst cartReducer = (state = inintialState, action) => {\n  switch (action.type) {\n    case types.CART_PENDING:\n      return {\n        ...state,\n        isPending: true\n      }\n\n    case types.FETCH_CART:\n      return {\n        ...state,\n        isPending: false,\n        ...action.payload.cart\n      };\n\n    case types.ADD_TO_CART:\n      return {\n        ...state,\n        isPending: false,\n        ...action.payload.cart\n      };\n\n    case types.UPDATE_CART_ITEM:\n      return {\n        ...state,\n        isPending: false,\n        ...action.payload.cart\n      };\n\n    case types.DELETE_CART_ITEM:\n      return {\n        ...state,\n        isPending: false,\n        ...action.payload.cart\n      };\n\n    case types.CLEAR_CART:\n      return {\n        ...state,\n        isPending: false,\n        ...action.payload.cart\n      };\n\n    case types.CHECK_OUT_OK:\n      return {\n        ...state,\n        cart_detail: [],\n        total: 0,\n        paid_at: new Date().toISOString()\n      };\n\n    case types.CHECK_OUT_FAILED:\n      return {\n        ...state\n      };\n    \n    case types.LOGOUT:\n      return inintialState;\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","import * as types from \"../constants/actionTypes\";\n\nconst initialState = {\n  id: null,\n  firstName: null,\n  lastName: null,\n  email: null,\n  username: null,\n  stripeID: null,\n  city: null,\n};\n\nconst userReducer = (state = initialState, action) => {\n  if (action.payload && action.payload.profile) {\n    // Transform data from API for shorter and reusable code\n    var profile = action.payload.profile;\n    var userProfile = {\n      id: profile.id,\n      firstName: profile.first_name,\n      lastName: profile.last_name,\n      email: profile.email,\n      username: profile.username,\n      stripeID: profile.stripe_customer_id,\n      city: profile.city,\n    }\n  }\n\n  switch (action.type) {\n    case types.AUTH_USER:\n      return {\n        ...state,\n        ...userProfile\n      }\n\n    case types.GET_USER_PROFILE:\n      return {\n        ...state,\n        ...userProfile\n      }\n    \n    case types.LOGOUT:\n      return {\n        ...initialState\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;","import * as types from \"../constants/actionTypes\";\n\nconst initialState = {\n  currentPage: 1,\n  pageSize: 20,\n  count: 0,\n  totalPages: 0,\n  next: null,\n  previous: null\n};\n\nconst paginationReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.CREATE_PAGINATION:\n      const { page } = action.payload;\n      return {\n        ...state,\n        count: page.count,\n        totalPages: Math.ceil(page.count / state.pageSize),\n        next: page.next,\n        previous: page.previous,\n      };\n\n    case types.NEXT_PAGE:\n      return {\n        ...state,\n        currentPage: state.currentPage + 1,\n      }\n\n    case types.PREVIOUS_PAGE:\n      return {\n        ...state,\n        currentPage: state.currentPage - 1,\n      }\n\n    case types.GO_TO_PAGE:\n      return {\n        ...state,\n        currentPage: action.payload.page_number\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default paginationReducer;\n","import * as types from \"../constants/actionTypes\";\n\nconst initialState = {\n  isAuthPending: false,\n  isPasswordUpdated: false,\n  token: null,\n  isLogin: null,\n  regiterSuccess: null,\n  registerError: null,\n  loginError: null,\n  passwordError: null,\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.AUTH_USER:\n      return {\n        ...state,\n        token: action.payload.token,\n        isLogin: true\n      };\n\n    case types.REGISTER_OK:\n      return {\n        ...state,\n        registerSuccess: action.payload.success\n      };\n\n    case types.REGISTER_FAILED:\n      return {\n        ...state,\n        registerError: action.payload.error\n      };\n\n    case types.LOGIN_OK:\n      return {\n        ...state,\n        isAuthPending: false,\n        isPasswordUpdated: false,\n        isLogin: true,\n        token: action.payload.token\n      };\n\n    case types.LOGIN_FAILED:\n      return {\n        ...state,\n        loginError: action.payload.error\n      };\n\n    case types.LOGOUT:\n      return { ...initialState };\n    \n    case types.UPDATE_PASSWORD_OK:\n      return {\n        ...state,\n        isPasswordUpdated: true\n      }\n\n    case types.UPDATE_PASSWORD_FAILED:\n      return {\n        ...state,\n        passwordError: action.payload.error\n      }\n\n    case types.TOKEN_EXPIRED:\n      return { ...initialState };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import { combineReducers } from 'redux';\nimport categoriesReducer from './categories.reducer';\nimport productsReducer from './products.reducer';\nimport cartReducer from './cart.reducer';\nimport userReducer from './user.reducer';\nimport paginationReducer from './pagination.reducer'\nimport authReducer from './auth.reducer'\n\nconst rootReducer = combineReducers({\n    categoriesReducer,\n    productsReducer,\n    cartReducer,\n    userReducer,\n    paginationReducer,\n    authReducer\n});\n\nexport default rootReducer;","import { createStore, applyMiddleware } from \"redux\";\nimport rootReducer from \"../reducers\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk)),\n);\n\nexport default store;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"toastr/build/toastr.min.css\"\nimport \"./index.scss\";\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./App\";\nimport store from \"./store/configureStore\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { StripeProvider } from \"react-stripe-elements\";\nimport { updateCartInLocalStorage } from './actions/cart.actions'\nimport { authUser } from \"./actions/auth.actions\";\nimport { initializeFirebase, askForReceivingNotification } from './firebase/firebase'\n\n// eslint-disable-next-line no-unused-vars\nconst PERSONAL_STRIPE_KEY = 'pk_test_QOOyeVrCYofsYsT36rGSO9Ij00IaJ3SQYt';\nconst COMPANY_STRIPE_KEY = 'pk_test_7X4at47jVmUqka7N8HhdO35N';\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <StripeProvider apiKey={COMPANY_STRIPE_KEY}>\n        <App />\n      </StripeProvider>\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\ninitializeFirebase();\nif (!localStorage.getItem('notification-token')) {\n  console.log(\"call\")\n  askForReceivingNotification();\n}\n\n\nstore.dispatch(authUser());\nstore.subscribe(() => {\n  const userCart =(store.getState().cartReducer);\n  const localCart = localStorage.getItem('user-cart');\n  if (JSON.stringify(userCart) !== localCart) {\n    updateCartInLocalStorage(userCart);\n  }\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","import * as firebase from 'firebase/app';\nimport 'firebase/messaging';\nimport 'firebase/auth';\nimport 'firebase/analytics';\n\nexport const initializeFirebase = () => {\n  const firebaseConfig = {\n    apiKey: 'AIzaSyDHdEhhWGoFJmuNMbNQ4KcjFhz8dp01kEI',\n    authDomain: 'seek-product-nextjs.firebaseapp.com',\n    databaseURL: 'https://seek-product-nextjs.firebaseio.com',\n    projectId: 'seek-product-nextjs',\n    storageBucket: 'seek-product-nextjs.appspot.com',\n    messagingSenderId: '124533210035',\n    appId: '1:124533210035:web:a094f0ba4388fbef1ea9c6',\n    measurementId: 'G-NP0LJ444E7'\n  };\n  !firebase.apps.length && firebase.initializeApp(firebaseConfig);\n  const messaging = firebase.messaging();\n  messaging.onMessage(payload => {\n    console.log('RECEIVED', payload);\n  });\n  console.log('FIREBASE initialized');\n};\n\nexport const askForReceivingNotification = async () => {\n  try {\n    if (localStorage.getItem('notification-token') !== null) return;\n    const messaging = firebase.messaging();\n    await messaging.requestPermission();\n    messaging.usePublicVapidKey(\n      'BMk-NokF8Qd5iXnEn2-4VdIVMc_F182oK7rQtxht8_SIebci16UapymUryPebMiTcNGhsazUNk_2cPDRIzINh4k'\n    );\n    const token = await messaging.getToken();\n    console.log('FB token', token);\n    localStorage.setItem('notification-token', token);\n    return token;\n  } catch (err) {\n    console.log(err);\n  }\n};\n","module.exports = __webpack_public_path__ + \"static/media/user.63352dbf.png\";","module.exports = __webpack_public_path__ + \"static/media/user.552c272e.jpg\";"],"sourceRoot":""}